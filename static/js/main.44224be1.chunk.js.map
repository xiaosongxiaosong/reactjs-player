{"version":3,"sources":["../../src/hooks/usePlayerReducer.js","../../src/ReactPlayer/useReactPlayer.js","../../src/hooks/useVideoState.js","../../src/hooks/useTime.js","../../src/hooks/useVolume.js","../../src/hooks/usePlaybackRate.js","../../src/hooks/usePiP.js","../../src/hooks/useFullscreen.js","../../src/hooks/useFlvjs.js","../../src/Flvjs/index.js","../../src/hooks/useHlsjs.js","../../src/Hlsjs/index.js","../../src/Native/index.js","../../src/hooks/useNative.js","../../src/ReactPlayerContext/index.js","../../node_modules/style-inject/dist/style-inject.es.js","../../src/TimeSlider/index.js","../../src/ReactPlayerSkin/PlayButton.js","../../src/ReactPlayerSkin/Volume.js","../../src/ReactPlayerSkin/Time.js","../../src/ReactPlayerSkin/FullscreenButton.js","../../src/ReactPlayerSkin/PlayRate.js","../../src/ReactPlayerSkin/PlayState.js","../../src/ReactPlayerSkin/TopState.js","../../src/ReactPlayerSkin/index.js","../../src/ReactPlayerSkin/useAutoHide.js","../../src/ReactPlayerSkinWapper/index.js","../../src/ReactPlayer/index.js","../../src/GrindPlayer/GrindPlayer.js","../../src/GrindPlayer/useGrindPlayer.js","../../src/GrindPlayer/index.js","../../src/GrindPlayer/useState.js","../../src/GrindPlayer/useTime.js","../../src/GrindPlayer/useVolume.js","../../src/index.js","App.js","../../dist/GrindPlayer.swf","../../dist/flashlsOSMF.swf","blank16x9.png","reportWebVitals.js","index.js"],"names":["initialState","loading","prevented","paused","ended","seeking","waiting","duration","currentTime","buffered","muted","volume","playbackRate","enabled","document","pictureInPictureEnabled","pip","fullscreen","kernelMsg","reducer","state","action","src","live","onKernelError","videoRef","React","playerRef","dispatch","ref","clearUpdateTimeout","global","timeoutCallback","payload","type","updateState","sync","usePlayerReducer","getVideoElement","getPlayerElement","onMsgChange","msg","onPlayClick","el","promise","onPauseClick","onCanPlay","onPause","onPlay","onPlaying","onEnded","onSeeked","onSeeking","onCanPlayThrough","onWaiting","onDocumentClick","e","useVideoState","timestamp","onDurationChange","v","Number","update","onTimeUpdate","onProgress","changeCurrentTime","parseFloat","useTime","onVolumeChange","onMutedClick","changeVolume","useVolume","onRateChange","changePlaybackRate","usePlaybackRate","requestPictureInPicture","exitPictureInPicture","onEnterPictureInPicture","onLeavePictureInPicture","usePiP","requestFullscreen","videoEl","exitFullscreen","onChange","fullscreenElement","useFullscreen","getFlvjs","Promise","resolve","script","debug","console","Flvjs","props","config","player","setPlayer","getVideo","configRef","onMsgChangeRef","play","isLive","url","cleanup","errMsg","destroyPlayer","detail","useFlvjs","PropTypes","isRequired","getHls","Hlsjs","enableWorker","currentSrc","info","details","useHlsjs","Native","loaded","onUnload","onError","useNative","ReactPlayerContext","styleInject","css","insertAt","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","getValue","rect","w","getEventXCoordinate","Math","MouseTooltip","tooltip","translateX","getMouseTranslateX","className","styles","transform","numeral","Slider","sliding","setSliding","value","setValue","setTooltip","sliderRef","reactRef","updateRef","onClick","onMouseDown","react","left","width","undefined","onMouseUp","onMouseMove","onSliderMouseOver","onSliderMouseMove","onResize","bufferedScaleX","i","end","getBufferedEnd","getBufferedScaleX","trackTranslateX","getTrackTranslateX","role","tabIndex","onKeyDown","onMouseOver","onFocus","onTouchStart","opacity","p","n","PlayButton","CaretRightOutlined","PauseOutlined","Volume","Icon","component","MutedSvg","UnmutedSvg","max","Time","FullscreenButton","FullscreenExitOutlined","FullscreenOutlined","PlayRate","visible","setVisible","showRateChangeMenu","hideRateChangeMenu","onMenuClick","Dropdown","overlay","Menu","selectedKeys","key","placement","trigger","PlayState","LoadingOutlined","PlayCircleOutlined","TopState","ReactPlayerSkin","hovering","setHovering","hiding","setHiding","onMouseEnter","matched","onMouseLeave","animationFrameCallback","startAutoHide","stopAutoHide","show","useAutoHide","object","ReactPlayerSkinWapper","ReactjsPlayer","kernel","controls","videoProps","playerProps","children","useReactPlayer","kernelProps","emitter","index","GrindPlayer","this","EventEmitter","data","args","token","addListener","event","fn","eventMap","filter","it","onJSBridge","playerId","JSON","javascriptCallbackFunction","grindPlayerSwf","flashlsOSMFSwf","id","useGrindPlayer","stateProps","useState","timeProps","volumeProps","ReactSWF","height","wmode","allowFullScreen","allowScriptAccess","bgcolor","flashVars","autoPlay","bufferTime","streamType","plugin_hls","string","ReactPlayer","delay","timeout","setTimeout","App","memo","list","setList","setInfo","setSrc","setVideoProps","useRef","Form","useForm","form","useCallback","item","find","setFieldsValue","onSubmit","values","a","current","useEffect","ua","UAParser","navigator","userAgent","device","playsInline","supportedList","Hls","flvjs","isSupported","getFeatureList","networkStreamIO","push","enableStashBuffer","autoCleanupSourceBuffer","stashInitialSize","fixAudioTimestampGap","os","name","getSupportedList","onVideoEvent","log","length","layout","onFinish","initialValues","Item","map","Option","htmlType","blank16x9","alt","onEmptied","onEncrypted","onLoadedData","onLoadedMetadata","onLoadStart","onStalled","onSuspend","onAbort","defaultActiveKey","TabPane","tab","title","column","size","label","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44224be1.chunk.js","sourcesContent":["import React from 'react';\n\nconst initialState = {\n  loading: false,\n  prevented: false,\n  paused: false,\n  ended: false,\n  seeking: false,\n  waiting: false,\n  duration: 0,\n  currentTime: 0,\n  buffered: null,\n  muted: false,\n  volume: 1,\n  playbackRate: 1,\n  enabled: !!document.pictureInPictureEnabled,\n  pictureInPictureEnabled: !!document.pictureInPictureEnabled,\n  pip: false,\n  fullscreen: false,\n  kernelMsg: null,\n};\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { ...initialState, ...action.payload };\n  }\n  return { ...state, ...action.payload };\n};\n\nexport default ({ src }) => {\n  const [\n    {\n      loading,\n      prevented,\n      paused,\n      ended,\n      seeking,\n      waiting,\n      duration,\n      currentTime,\n      buffered,\n      muted,\n      volume,\n      playbackRate,\n      pictureInPictureEnabled,\n      pip,\n      fullscreen,\n      kernelMsg,\n    },\n    dispatch,\n  ] = React.useReducer(reducer, initialState);\n  const ref = React.useRef({ src });\n\n  const clearUpdateTimeout = React.useCallback(() => {\n    if (ref.current.timeout) {\n      global.clearTimeout(ref.current.timeout);\n    }\n    delete ref.current.timeout;\n    delete ref.current.payload;\n  }, []);\n\n  const timeoutCallback = React.useCallback(() => {\n    const { payload } = ref.current;\n    clearUpdateTimeout();\n    // debugger;\n    if (payload) {\n      dispatch({ type: 'update', payload });\n    }\n  }, [dispatch, clearUpdateTimeout]);\n\n  const updateState = React.useCallback(\n    (payload, sync = false) => {\n      ref.current.payload = { ...ref.current.payload, ...payload };\n      if (sync) {\n        timeoutCallback();\n        return;\n      }\n      if (ref.current.timeout) {\n        return;\n      }\n      ref.current.timeout = global.setTimeout(timeoutCallback, 100);\n    },\n    [timeoutCallback],\n  );\n\n  React.useEffect(() => {\n    return () => {\n      if (ref.current.timeout) {\n        global.clearTimeout(ref.current.timeout);\n      }\n      ref.current = {};\n    };\n  }, []);\n\n  React.useEffect(() => {\n    clearUpdateTimeout();\n    dispatch({ type: 'reset' });\n    // ref.current.src = src;\n  }, [src, clearUpdateTimeout]);\n\n  return {\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    updateState,\n  };\n};\n","import React from 'react';\nimport usePlayerReducer from '../hooks/usePlayerReducer';\nimport useVideoState from '../hooks/useVideoState';\nimport useTime from '../hooks/useTime';\nimport useVolume from '../hooks/useVolume';\nimport usePlaybackRate from '../hooks/usePlaybackRate';\nimport usePiP from '../hooks/usePiP';\nimport useFullscreen from '../hooks/useFullscreen';\n\nexport default ({ src, live, onKernelError }) => {\n  const videoRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n\n  const {\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    updateState,\n  } = usePlayerReducer({ src });\n\n  const getVideoElement = React.useCallback(() => videoRef && videoRef.current, []);\n  const getPlayerElement = React.useCallback(() => playerRef && playerRef.current, []);\n\n  const onMsgChange = React.useCallback(\n    (msg) => {\n      // debugger;\n      updateState({ kernelMsg: msg });\n      if (onKernelError) {\n        onKernelError(msg);\n      }\n    },\n    [updateState, onKernelError],\n  );\n\n  const { onPauseClick, onPlayClick } = useVideoState({\n    src,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    updateState,\n    getVideoElement,\n  });\n\n  const { changeCurrentTime } = useTime({ src, duration, currentTime, buffered, updateState, getVideoElement });\n  const { onMutedClick, changeVolume } = useVolume({ src, muted, volume, updateState, getVideoElement });\n  const { changePlaybackRate } = usePlaybackRate({ src, live, playbackRate, updateState, getVideoElement });\n  const { requestPictureInPicture, exitPictureInPicture } = usePiP({ src, pip, updateState, getVideoElement });\n  const { requestFullscreen, exitFullscreen } = useFullscreen({ updateState, getVideoElement, getPlayerElement });\n\n  return {\n    videoRef,\n    playerRef,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    getVideoElement,\n    onPauseClick,\n    onPlayClick,\n    changeCurrentTime,\n    onMutedClick,\n    changeVolume,\n    changePlaybackRate,\n    requestPictureInPicture,\n    exitPictureInPicture,\n    requestFullscreen,\n    exitFullscreen,\n    onMsgChange,\n  };\n};\n","import React from 'react';\n\nexport default ({ src, loading, prevented, ended, updateState, getVideoElement }) => {\n  const ref = React.useRef({ getVideoElement, loading, prevented, ended });\n\n  const onPlayClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      if (ref.current.ended) {\n        el.currentTime = 0;\n      }\n      const promise = el.play();\n      if (!promise || !promise.then) {\n        return;\n      }\n      // debugger;\n      // TODO: src 改变了\n      promise.then(() => updateState({ prevented: false })).catch(() => updateState({ prevented: true }));\n    }\n    updateState({ paused: false }, true);\n  }, [updateState]);\n\n  const onPauseClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.pause();\n    }\n    updateState({ paused: true }, true);\n  }, [updateState]);\n\n  const onCanPlay = React.useCallback(() => {\n    if (ref.current.loading) {\n      updateState({ loading: false });\n      onPlayClick();\n    }\n    updateState({ waiting: false });\n    // setWaiting(false);\n  }, [updateState, onPlayClick]);\n\n  const onPause = React.useCallback(() => {\n    // setPaused(true);\n    updateState({ paused: true });\n  }, [updateState]);\n\n  const onPlay = React.useCallback(() => {\n    // setPaused(false);\n    // setEnded(false);\n    updateState({ paused: false, ended: false });\n  }, [updateState]);\n\n  const onPlaying = React.useCallback(() => {\n    // setPaused(false);\n    // setEnded(false);\n    updateState({ paused: false, ended: false });\n  }, [updateState]);\n\n  const onEnded = React.useCallback(() => {\n    // setEnded(true);\n    updateState({ ended: true });\n  }, [updateState]);\n\n  const onSeeked = React.useCallback(() => {\n    // setSeeking(false);\n    updateState({ seeking: false });\n  }, [updateState]);\n\n  const onSeeking = React.useCallback(() => {\n    // setSeeking(true);\n    updateState({ seeking: true });\n  }, [updateState]);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    // setWaiting(false);\n    updateState({ waiting: false });\n  }, [updateState]);\n\n  const onWaiting = React.useCallback(() => {\n    // setWaiting(true);\n    updateState({ waiting: true });\n  }, [updateState]);\n\n  const onDocumentClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    document.removeEventListener('click', onDocumentClick);\n    if (ref.current.prevented) {\n      el.play();\n      ref.current.loaded = true;\n      return;\n    }\n    if (ref.current.loaded) {\n      return;\n    }\n    ref.current.loaded = true;\n    if (!ref.current.src) {\n      el.src = '';\n      try {\n        el.play();\n      } catch (e) {}\n      el.pause();\n    }\n  }, []);\n\n  // DONE: src 改变后 reset\n  // React.useEffect(() => {\n  //   setLoading(!!src);\n  //   setPaused(false);\n  //   setEnded(false);\n  //   setSeeking(false);\n  //   setWaiting(false);\n  // }, [src]);\n  React.useEffect(() => {\n    ref.current.src = src;\n    if (src) {\n      updateState({ loading: true }, true);\n    }\n  }, [src, updateState]);\n\n  React.useEffect(() => {\n    ref.current.loading = loading;\n    ref.current.prevented = prevented;\n    ref.current.ended = ended;\n  }, [loading, prevented, ended]);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('canplay', onCanPlay);\n    el.addEventListener('pause', onPause);\n    el.addEventListener('play', onPlay);\n    el.addEventListener('playing', onPlaying);\n    el.addEventListener('ended', onEnded);\n    el.addEventListener('seeked', onSeeked);\n    el.addEventListener('seeking', onSeeking);\n    el.addEventListener('canplaythrough', onCanPlayThrough);\n    el.addEventListener('waiting', onWaiting);\n    document.addEventListener('click', onDocumentClick);\n    return () => {\n      el.removeEventListener('canplay', onCanPlay);\n      el.removeEventListener('pause', onPause);\n      el.removeEventListener('play', onPlay);\n      el.removeEventListener('playing', onPlaying);\n      el.removeEventListener('ended', onEnded);\n      el.removeEventListener('seeked', onSeeked);\n      el.removeEventListener('seeking', onSeeking);\n      el.removeEventListener('canplaythrough', onCanPlayThrough);\n      el.removeEventListener('waiting', onWaiting);\n      document.removeEventListener('click', onDocumentClick);\n    };\n  }, [\n    onCanPlay,\n    onPause,\n    onPlay,\n    onPlaying,\n    onEnded,\n    onSeeked,\n    onSeeking,\n    onCanPlayThrough,\n    onWaiting,\n    onDocumentClick,\n  ]);\n\n  return { onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\nexport default ({ src, updateState, getVideoElement }) => {\n  const ref = React.useRef({ src, getVideoElement, timestamp: 0, payload: null });\n  // const updateRef = React.useRef(null);\n\n  const onDurationChange = React.useCallback(\n    (e) => {\n      const v = e.target.duration;\n      // TODO: 同步更新\n      updateState({ duration: Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0 });\n    },\n    [updateState],\n  );\n\n  const update = React.useCallback(\n    (timestamp) => {\n      if (!ref.current.payload) {\n        return;\n      }\n      // TODO: ref.current.timestamp isNaN\n      if (200 > timestamp - ref.current.timestamp) {\n        global.requestAnimationFrame(update);\n        return;\n      }\n      updateState(ref.current.payload);\n      ref.current.timestamp = timestamp;\n      ref.current.payload = null;\n    },\n    [updateState],\n  );\n\n  const onTimeUpdate = React.useCallback(\n    (e) => {\n      if (!ref.current || Number.isNaN(e.target.currentTime)) {\n        return;\n      }\n      if (ref.current.payload) {\n        ref.current.payload.currentTime = e.target.currentTime;\n      } else {\n        ref.current.payload = { currentTime: e.target.currentTime };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const onProgress = React.useCallback(\n    (e) => {\n      if (!ref.current || !(e.target.buffered instanceof TimeRanges)) {\n        return;\n      }\n      if (ref.current.payload) {\n        ref.current.payload.buffered = e.target.buffered;\n      } else {\n        ref.current.payload = { buffered: e.target.buffered };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const changeCurrentTime = React.useCallback(\n    (t) => {\n      const v = parseFloat(t);\n      if (Number.isNaN(v)) {\n        return;\n      }\n      const el = ref.current.getVideoElement();\n      if (el) {\n        el.currentTime = v;\n      }\n      ref.current.payload = null;\n      updateState({ currentTime: v });\n    },\n    [updateState],\n  );\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    ref.current.timestamp = 0;\n    ref.current.payload = null;\n  }, [src]);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('durationchange', onDurationChange);\n    el.addEventListener('timeupdate', onTimeUpdate);\n    el.addEventListener('progress', onProgress);\n    return () => {\n      el.removeEventListener('durationchange', onDurationChange);\n      el.removeEventListener('timeupdate', onTimeUpdate);\n      el.removeEventListener('progress', onProgress);\n    };\n  }, [onDurationChange, onTimeUpdate, onProgress]);\n\n  return { changeCurrentTime };\n};\n","import React from 'react';\n\nexport default ({ src, muted, volume, updateState, getVideoElement }) => {\n  const ref = React.useRef({ muted, volume, getVideoElement });\n\n  const onVolumeChange = React.useCallback(\n    (e) => {\n      const v = e.target.volume;\n      // setVolume(v);\n      // setMuted(0 === v ? true : e.target.muted);\n      updateState({ volume: v, muted: 0 === v ? true : e.target.muted });\n    },\n    [updateState],\n  );\n\n  const onMutedClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      const payload = { muted: !ref.current.muted };\n      el.muted = payload.muted;\n      if (0 === ref.current.volume && ref.current.muted) {\n        payload.volume = 1;\n        el.volume = payload.volume;\n      }\n      updateState(payload, true);\n    }\n  }, [updateState]);\n\n  const changeVolume = React.useCallback(\n    (v) => {\n      const el = ref.current.getVideoElement();\n      const payload = { volume: v };\n      if (el) {\n        el.volume = v;\n      }\n      if (0 !== v && ref.current.muted) {\n        payload.muted = false;\n      }\n      updateState(payload, true);\n    },\n    [updateState],\n  );\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      el.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [onVolumeChange]);\n\n  React.useEffect(() => {\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [muted, volume]);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.muted = false;\n      el.volume = 1;\n    }\n  }, [src]);\n\n  return { onMutedClick, changeVolume };\n};\n","import React from 'react';\n\nexport default ({ src, live, updateState, getVideoElement }) => {\n  const ref = React.useRef({ live, getVideoElement });\n\n  const onRateChange = React.useCallback(\n    (e) => {\n      if (Number.isNaN(e.target.playbackRate)) {\n        return;\n      }\n      updateState({ playbackRate: e.target.playbackRate });\n    },\n    [updateState],\n  );\n\n  const changePlaybackRate = React.useCallback(\n    (r) => {\n      if (Number.isNaN(r)) {\n        return;\n      }\n      const v = ref.current.live ? 1 : r;\n      const el = ref.current.getVideoElement();\n      if (!el) {\n        return;\n      }\n      el.playbackRate = v;\n      updateState({ playbackRate: v }, true);\n    },\n    [updateState],\n  );\n\n  React.useEffect(() => {\n    ref.current.live = live;\n    if (live) {\n      changePlaybackRate(1);\n    }\n  }, [live, changePlaybackRate]);\n\n  React.useEffect(() => {\n    const el = getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('ratechange', onRateChange);\n    return () => {\n      el.removeEventListener('ratechange', onRateChange);\n    };\n  }, [getVideoElement, onRateChange]);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.playbackRate = 1;\n    }\n  }, [src]);\n\n  return { changePlaybackRate };\n};\n","import React from 'react';\n\nexport default ({ src, pip, updateState, getVideoElement }) => {\n  const ref = React.useRef({ src, getVideoElement });\n\n  const requestPictureInPicture = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el && el.requestPictureInPicture && ref.current.src) {\n      el.requestPictureInPicture();\n    }\n  }, []);\n\n  const exitPictureInPicture = React.useCallback(() => {\n    if (document.exitPictureInPicture) {\n      document.exitPictureInPicture();\n    }\n  }, []);\n\n  const onEnterPictureInPicture = React.useCallback(() => {\n    // setPiP(true);\n    updateState({ pip: true });\n  }, [updateState]);\n\n  const onLeavePictureInPicture = React.useCallback(() => {\n    // setPiP(false);\n    updateState({ pip: false });\n  }, [updateState]);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('enterpictureinpicture', onEnterPictureInPicture);\n    el.addEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    return () => {\n      el.removeEventListener('enterpictureinpicture', onEnterPictureInPicture);\n      el.removeEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    };\n  }, [onEnterPictureInPicture, onLeavePictureInPicture]);\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    if (pip && !src) {\n      exitPictureInPicture();\n    }\n  }, [src, pip, exitPictureInPicture]);\n\n  return { requestPictureInPicture, exitPictureInPicture };\n};\n","import React from 'react';\n\nexport default ({ updateState, getVideoElement, getPlayerElement }) => {\n  const requestFullscreen = React.useCallback(() => {\n    const el = getPlayerElement();\n    if (!el) {\n      // debug('useVideoFullscreen: 全屏异常，unmounted');\n      return;\n    }\n    if (el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el.msRequestFullscreen) {\n      // 兼容 IE11\n      el.msRequestFullscreen();\n    } else if (el.webkitRequestFullscreen) {\n      // 兼容微信 PC 版内置浏览器\n      el.webkitRequestFullscreen();\n    } else {\n      const videoEl = getVideoElement();\n      if (videoEl && videoEl.webkitEnterFullScreen) {\n        // 兼容 iOS Safari\n        videoEl.webkitEnterFullScreen();\n      } else {\n        // 异常分支，不应该进入\n        // debug('useVideoFullscreen: 全屏异常，浏览器不支持 requestFullscreen');\n      }\n    }\n  }, [getVideoElement, getPlayerElement]);\n\n  const exitFullscreen = React.useCallback(() => {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else {\n      // 异常分支，不应该进入\n      // debug('useVideoFullscreen: 退出全屏异常，浏览器不支持 exitFullscreen');\n    }\n  }, []);\n\n  const onChange = React.useCallback(() => {\n    const el = getPlayerElement();\n    const fullscreenElement =\n      document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement;\n    updateState({ fullscreen: !!el && fullscreenElement === el });\n  }, [updateState, getPlayerElement]);\n\n  React.useEffect(() => {\n    document.addEventListener('fullscreenchange', onChange);\n    document.addEventListener('webkitfullscreenchange', onChange);\n    document.onmsfullscreenchange = onChange;\n    return () => {\n      document.removeEventListener('fullscreenchange', onChange);\n      document.removeEventListener('webkitfullscreenchange', onChange);\n      document.onmsfullscreenchange = null;\n    };\n  }, [onChange]);\n\n  return { requestFullscreen, exitFullscreen };\n};\n","import React from 'react';\n\nconst getFlvjs = (src) =>\n  new Promise((resolve) => {\n    if (global.flvjs) {\n      resolve(global.flvjs);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.flvjs);\n    script.onerror = () => resolve(global.flvjs);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = (player) => {\n  if (!player) {\n    return;\n  }\n  try {\n    player.pause();\n  } catch (errMsg) {}\n  try {\n    player.unload();\n  } catch (errMsg) {}\n  try {\n    player.detachMediaElement();\n  } catch (errMsg) {}\n  try {\n    player.destroy();\n  } catch (errMsg) {}\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef(src);\n  const configRef = React.useRef(config);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getFlvjs('https://unpkg.com/flv.js/dist/flv.min.js');\n      if (!global.flvjs || ref.current !== src) {\n        debug('useFlvjs: 加载 flv.js 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(global.flvjs.createPlayer({ isLive: true, type: 'flv', url: src }, configRef.current));\n    };\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    if (!player) {\n      return cleanup;\n    }\n    const el = getVideo.current();\n    if (!el) {\n      return cleanup;\n    }\n    player.attachMediaElement(el);\n    player.load();\n    // player.play();\n    player.on(global.flvjs.Events.ERROR, (type, detail) => {\n      if (onMsgChangeRef && onMsgChangeRef.current) {\n        onMsgChangeRef.current({ type, detail });\n      }\n    });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useFlvjs from '../hooks/useFlvjs';\n\nconst Flvjs = (props) => {\n  useFlvjs(props);\n  return null;\n};\n\nFlvjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nFlvjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(Flvjs);\n","import React from 'react';\n\nconst getHls = (src) =>\n  new Promise((resolve) => {\n    if (global.Hls) {\n      resolve(global.Hls);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.Hls);\n    script.onerror = () => resolve(global.Hls);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = (player) => {\n  if (player) {\n    try {\n      player.destroy();\n    } catch (errMsg) {}\n  }\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef('');\n  const configRef = React.useRef(null);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getHls('https://unpkg.com/hls.js/dist/hls.min.js');\n      if (!global.Hls || ref.current !== src) {\n        debug('useHlsjs: 加载 hls.js 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(new global.Hls({ enableWorker: false, ...configRef.current }));\n    };\n\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    if (!player || !ref.current) {\n      return cleanup;\n    }\n    const currentSrc = ref.current;\n    const el = getVideo.current();\n    if (!el) {\n      return cleanup;\n    }\n    player.attachMedia(el);\n    player.once(global.Hls.Events.MEDIA_ATTACHED, () => {\n      if (currentSrc === ref.current) {\n        player.loadSource(ref.current);\n      }\n    });\n    // player.once(global.Hls.Events.MANIFEST_PARSED, () => {\n    //   if (currentSrc === ref.current) {\n    //     el.play();\n    //   }\n    // });\n    player.on(global.Hls.Events.ERROR, (e, info) => {\n      if (onMsgChangeRef && onMsgChangeRef.current && info && info.fatal) {\n        onMsgChangeRef.current({ type: info.type, detail: info.details });\n      }\n    });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useHlsjs from '../hooks/useHlsjs';\n\nconst Hlsjs = (props) => {\n  useHlsjs(props);\n  return null;\n};\n\nHlsjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nHlsjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(Hlsjs);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useNative from '../hooks/useNative';\n\nconst Native = (props) => {\n  useNative(props);\n  return null;\n};\n\nNative.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nNative.defaultProps = {\n  src: '',\n};\n\nexport default React.memo(Native);\n","import React from 'react';\n\nexport default ({ getVideoElement, src, onMsgChange }) => {\n  const ref = React.useRef({ getVideoElement, src: '', onMsgChange, loaded: false });\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    ref.current.getVideoElement = getVideoElement;\n  }, [src, getVideoElement]);\n\n  React.useEffect(() => {\n    // ref.current.onMsgChange(null);\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    el.pause();\n    el.src = src;\n    // el.play().catch(() => {});\n    el.load();\n  }, [src]);\n\n  // 页面切换时强制停止播放\n  const onUnload = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    el.pause();\n    el.src = '';\n    try {\n      el.load();\n    } catch (errMsg) {}\n  }, []);\n\n  const onError = React.useCallback((e) => {\n    const msg = { type: 'Error', detail: 'Unknown exception' };\n    if (e.target && e.target.error && e.target.error.code) {\n      msg.detail = `Code ${e.target.error.code}`;\n    }\n    ref.current.onMsgChange(msg);\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('beforeunload', onUnload);\n    global.addEventListener('pagehide', onUnload);\n    global.addEventListener('unload', onUnload);\n    return () => {\n      onUnload({ type: 'useEffect' });\n    };\n  }, [onUnload]);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('error', onError);\n\n    return () => {\n      el.removeEventListener('error', onError);\n    };\n  }, [onError]);\n  return null;\n};\n","import React from 'react';\n\nconst ReactPlayerContext = React.createContext([{}, () => {}]);\n\nexport default ReactPlayerContext;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\nimport styles from './index.module.less';\n\nconst getBufferedEnd = (currentTime, buffered) => {\n  if (!buffered) {\n    return 0;\n  }\n  for (let i = buffered.length - 1; 0 <= i; i -= 1) {\n    const end = buffered.end(i);\n    if (currentTime <= end && buffered.start(i) <= currentTime) {\n      return end;\n    }\n  }\n  return 0;\n};\n\nconst getEventXCoordinate = (e) => {\n  if (e.changedTouches && 1 <= e.changedTouches.length) {\n    return e.changedTouches[0].pageX;\n  }\n  return e.clientX || 0;\n};\n\nconst getValue = (e, rect, duration) => {\n  const w = getEventXCoordinate(e) - rect.left;\n  if (0 >= w) {\n    return 0;\n  }\n  if (w >= rect.width) {\n    return duration;\n  }\n  return Math.round((duration * w) / rect.width);\n};\n\nconst getBufferedScaleX = ({ buffered, currentTime, sliding, duration }) => {\n  if (0 >= duration || sliding) {\n    return 0;\n  }\n  const e = getBufferedEnd(currentTime, buffered);\n  return (e / duration).toFixed(3);\n};\n\nconst getTrackTranslateX = ({ duration, currentTime }) => {\n  if (0 === duration) {\n    return -100;\n  }\n  return ((100 * currentTime) / duration - 100).toFixed(1);\n};\n\nconst getMouseTranslateX = ({ duration, tooltip }) => {\n  if (0 >= duration) {\n    return 0;\n  }\n  return ((100 * tooltip) / duration).toFixed(1);\n};\n\nconst MouseTooltip = React.memo(({ duration, tooltip }) => {\n  const translateX = getMouseTranslateX({ duration, tooltip });\n  return (\n    <div className={styles.tooltip} style={{ transform: `translateX(${translateX}%)` }}>\n      <div className={styles.tip}>{numeral(tooltip).format('00:00:00')}</div>\n    </div>\n  );\n});\n\nMouseTooltip.propTypes = {\n  duration: PropTypes.number.isRequired,\n  tooltip: PropTypes.number.isRequired,\n};\n\nconst Slider = React.memo(({ currentTime, duration, buffered, onChange, sliding, setSliding }) => {\n  const [value, setValue] = React.useState(currentTime);\n  const [tooltip, setTooltip] = React.useState(0);\n\n  const sliderRef = React.useRef(null);\n  const reactRef = React.useRef(null);\n  const updateRef = React.useRef(null);\n\n  const onClick = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      setSliding(false);\n\n      const rect = e.currentTarget.getBoundingClientRect();\n      const v = getValue(e, rect, duration);\n      onChange(v);\n    },\n    [onChange, duration, setSliding],\n  );\n\n  const onMouseDown = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      if (!sliderRef || !sliderRef.current || !reactRef) {\n        return;\n      }\n      const react = sliderRef.current.getBoundingClientRect();\n      reactRef.current = { left: react.left, width: react.width };\n      setSliding(true);\n    },\n    [setSliding],\n  );\n\n  const update = React.useCallback(() => {\n    if (!updateRef || !updateRef.current) {\n      return;\n    }\n    // eslint-disable-next-line no-undefined\n    if (undefined !== updateRef.current.value) {\n      setValue(updateRef.current.value);\n    }\n    // eslint-disable-next-line no-undefined\n    if (undefined !== updateRef.current.tooltip) {\n      setTooltip(updateRef.current.tooltip);\n    }\n    updateRef.current = null;\n  }, []);\n\n  const onMouseUp = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      setSliding(false);\n      if (reactRef && reactRef.current && updateRef) {\n        const v = getValue(e, reactRef.current, duration);\n        updateRef.current = { value: v };\n        update();\n        onChange(v);\n      }\n    },\n    [onChange, duration, update, setSliding],\n  );\n\n  const onMouseMove = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      if (!reactRef || !reactRef.current || !updateRef) {\n        return;\n      }\n      const v = getValue(e, reactRef.current, duration);\n      if (updateRef.current) {\n        updateRef.current.value = v;\n      } else {\n        updateRef.current = { value: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  React.useEffect(() => {\n    if (sliding) {\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n\n      document.addEventListener('touchmove', onMouseMove);\n      document.addEventListener('touchcancel', onMouseUp);\n      document.addEventListener('touchend', onMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', onMouseUp);\n\n        document.removeEventListener('touchmove', onMouseMove);\n        document.removeEventListener('touchcancel', onMouseUp);\n        document.removeEventListener('touchend', onMouseUp);\n      };\n    }\n    return () => {};\n  }, [sliding, onMouseMove, onMouseUp]);\n\n  const onSliderMouseOver = React.useCallback((e) => {\n    e.preventDefault();\n    const react = sliderRef.current.getBoundingClientRect();\n    reactRef.current = { left: react.left, width: react.width };\n  }, []);\n\n  const onSliderMouseMove = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      if (!reactRef || !reactRef.current || !updateRef) {\n        return;\n      }\n      const v = getValue(e, reactRef.current, duration);\n      if (updateRef.current) {\n        updateRef.current.tooltip = v;\n      } else {\n        updateRef.current = { tooltip: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  const onResize = React.useCallback((e) => {\n    e.preventDefault();\n    if (!sliderRef || !sliderRef.current) {\n      return;\n    }\n    const react = sliderRef.current.getBoundingClientRect();\n    reactRef.current = { left: react.left, width: react.width };\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('resize', onResize);\n    return () => {\n      global.removeEventListener('resize', onResize);\n    };\n  }, [onResize]);\n\n  const bufferedScaleX = getBufferedScaleX({ buffered, currentTime, sliding, duration });\n  const trackTranslateX = getTrackTranslateX({ duration, currentTime: sliding ? value : currentTime });\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={sliding ? styles.slidingSlider : styles.slider}\n      ref={sliderRef}\n      onClick={onClick}\n      onKeyDown={() => {}}\n      onMouseOver={onSliderMouseOver}\n      onMouseMove={onSliderMouseMove}\n      onFocus={() => {}}\n    >\n      <button type=\"button\" className={styles.sliderButton} onTouchStart={onMouseDown}>\n        <span className={styles.slidingTip} style={{ opacity: sliding ? 1 : 0 }}>\n          快进到：{numeral(value).format('00:00:00')}\n        </span>\n      </button>\n      <div className={styles.sliderRail}>\n        <div className={styles.sliderBuffered} style={{ transform: `scaleX(${bufferedScaleX})` }} />\n        <div className={styles.sliderTrack} style={{ transform: `translateX(${trackTranslateX}%)` }} />\n      </div>\n      <div className={styles.sliderHandleRail} style={{ transform: `translateX(${trackTranslateX}%)` }}>\n        <button type=\"button\" className={styles.sliderHandle} onMouseDown={onMouseDown} onTouchStart={onMouseDown} />\n      </div>\n      <MouseTooltip duration={duration} tooltip={sliding ? value : tooltip} />\n    </div>\n  );\n});\n\nSlider.propTypes = {\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  onChange: PropTypes.func,\n  sliding: PropTypes.bool.isRequired,\n  setSliding: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n  buffered: null,\n  onChange: () => {},\n};\n\nexport default React.memo(\n  Slider,\n  (p, n) =>\n    p.currentTime === n.currentTime &&\n    p.duration === n.duration &&\n    p.buffered === n.buffered &&\n    p.onChange === n.onChange &&\n    p.sliding === n.sliding &&\n    p.setSliding === n.setSliding,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CaretRightOutlined, PauseOutlined } from '@ant-design/icons';\nimport 'antd/lib/dropdown/style/index.css';\n// import styles from './index.module.less';\n\nconst PlayButton = ({ prevented, paused, ended, onPlayClick, onPauseClick }) => {\n  return prevented || paused || ended ? (\n    <button type=\"button\" onClick={onPlayClick}>\n      <CaretRightOutlined />\n    </button>\n  ) : (\n    <button type=\"button\" onClick={onPauseClick}>\n      <PauseOutlined />\n    </button>\n  );\n};\n\nPlayButton.propTypes = {\n  prevented: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  PlayButton,\n  (p, n) =>\n    p.prevented === n.prevented &&\n    p.paused === n.paused &&\n    p.ended === n.ended &&\n    p.onPlayClick === n.onPlayClick &&\n    p.onPauseClick === n.onPauseClick,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Slider } from 'antd';\nimport Icon from '@ant-design/icons';\n// import 'antd/lib/tooltip/style/index.css';\nimport 'antd/lib/slider/style/index.css';\n// import 'antd/lib/dropdown/style/index.css';\nimport styles from './index.module.less';\n\nimport { ReactComponent as MutedSvg } from './muted.svg';\nimport { ReactComponent as UnmutedSvg } from './unmuted.svg';\n// import bgImg from './bg.png';\n\nconst Volume = ({ muted, volume, changeVolume, onMutedClick }) => {\n  return (\n    <span className={styles.volume}>\n      {(muted || 0 === volume) && (\n        <button type=\"button\" onClick={onMutedClick}>\n          <Icon component={MutedSvg} />\n        </button>\n      )}\n      {!muted && 0 !== volume && (\n        <button type=\"button\" onClick={onMutedClick}>\n          <Icon component={UnmutedSvg} />\n        </button>\n      )}\n      <span className={styles.volumeSlider}>\n        <Slider value={volume * 100} onChange={(v) => changeVolume(v / 100)} max={100} />\n      </span>\n    </span>\n  );\n};\n\nVolume.propTypes = {\n  // volume\n  muted: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  onMutedClick: PropTypes.func.isRequired,\n  changeVolume: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  Volume,\n  (p, n) =>\n    p.muted === n.muted &&\n    p.volume === n.volume &&\n    p.onMutedClick === n.onMutedClick &&\n    p.changeVolume === n.changeVolum,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\n\nimport styles from './index.module.less';\n\nconst Time = ({ live, duration, currentTime }) => {\n  return (\n    <span className={styles.controlText}>\n      {numeral(Math.round(currentTime)).format('00:00:00')}\n      {live ? (\n        <span className={styles.controlText}>\n          <span className={styles.liveDot} />\n          直播\n        </span>\n      ) : (\n        ` / ${numeral(Math.round(duration)).format('00:00:00')}`\n      )}\n    </span>\n  );\n};\n\nTime.propTypes = {\n  live: PropTypes.bool.isRequired,\n  duration: PropTypes.number.isRequired,\n  currentTime: PropTypes.number.isRequired,\n};\n\nexport default React.memo(\n  Time,\n  (p, n) => p.live === n.live && p.duration === n.duration && p.currentTime === n.currentTime,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FullscreenExitOutlined, FullscreenOutlined } from '@ant-design/icons';\n\nconst FullscreenButton = ({ fullscreen, requestFullscreen, exitFullscreen }) => {\n  return fullscreen ? (\n    <button type=\"button\" onClick={exitFullscreen}>\n      <FullscreenExitOutlined />\n    </button>\n  ) : (\n    <button type=\"button\" onClick={requestFullscreen}>\n      <FullscreenOutlined />\n    </button>\n  );\n};\n\nFullscreenButton.propTypes = {\n  // fullscreen\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  exitFullscreen: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  FullscreenButton,\n  (p, n) =>\n    p.fullscreen === n.fullscreen &&\n    p.requestFullscreen === n.requestFullscreen &&\n    p.exitFullscreen === n.exitFullscreen,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Menu } from 'antd';\n\nimport 'antd/lib/dropdown/style/index.css';\nimport styles from './index.module.less';\n\nconst PlayRate = ({ playbackRate, changePlaybackRate, visible, setVisible }) => {\n  const showRateChangeMenu = React.useCallback(\n    (e) => {\n      e.stopPropagation();\n      setVisible(true);\n    },\n    [setVisible],\n  );\n\n  const hideRateChangeMenu = React.useCallback(() => setVisible(false), [setVisible]);\n\n  const onMenuClick = React.useCallback(\n    (e) => {\n      changePlaybackRate(parseFloat(e.key, 10));\n      setVisible(false);\n    },\n    [changePlaybackRate, setVisible],\n  );\n\n  React.useEffect(() => {\n    document.body.addEventListener('click', hideRateChangeMenu);\n    return () => document.body.removeEventListener('click', hideRateChangeMenu);\n  }, [hideRateChangeMenu]);\n\n  return (\n    <Dropdown\n      visible={visible}\n      overlay={\n        <Menu selectedKeys={[playbackRate.toString()]} onClick={onMenuClick}>\n          <Menu.Item key=\"0.25\">&nbsp;&nbsp;0.25 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"0.5\">&nbsp;&nbsp;0.5 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"1\">&nbsp;&nbsp;1 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"1.25\">&nbsp;&nbsp;1.25 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"1.5\">&nbsp;&nbsp;1.5 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"2\">&nbsp;&nbsp;2 倍速&nbsp;&nbsp;</Menu.Item>\n        </Menu>\n      }\n      placement=\"topRight\"\n      trigger={[]}\n    >\n      <button type=\"button\" className={styles.textBtn} onClick={showRateChangeMenu}>\n        倍速\n      </button>\n    </Dropdown>\n  );\n};\n\nPlayRate.propTypes = {\n  playbackRate: PropTypes.number.isRequired,\n  changePlaybackRate: PropTypes.func.isRequired,\n  visible: PropTypes.bool.isRequired,\n  setVisible: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  PlayRate,\n  (p, n) =>\n    p.playbackRate === n.playbackRate &&\n    p.changePlaybackRate === n.changePlaybackRate &&\n    p.visible === n.visible &&\n    p.setVisible === n.setVisible,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingOutlined, PlayCircleOutlined } from '@ant-design/icons';\n\nimport styles from './index.module.less';\n\nconst PlayState = ({\n  src,\n  prevented,\n  loading,\n  paused,\n  ended,\n  seeking,\n  waiting,\n  duration,\n  currentTime,\n  kernelMsg,\n  onPlayClick,\n}) => {\n  if (!src || loading || (0 === duration && 0 === currentTime) || kernelMsg) {\n    return null;\n  }\n\n  if (waiting || seeking) {\n    return (\n      <div className={styles.loading}>\n        <LoadingOutlined />\n      </div>\n    );\n  }\n  if (prevented || paused || ended) {\n    return (\n      <button type=\"button\" className={styles.ended} onClick={onPlayClick}>\n        <PlayCircleOutlined />\n      </button>\n    );\n  }\n  return null;\n};\n\nPlayState.propTypes = {\n  src: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  prevented: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  seeking: PropTypes.bool.isRequired,\n  waiting: PropTypes.bool.isRequired,\n  duration: PropTypes.number.isRequired,\n  currentTime: PropTypes.number.isRequired,\n  kernelMsg: PropTypes.object.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  PlayState,\n  (p, n) =>\n    p.src === n.src &&\n    p.loading === n.loading &&\n    p.prevented === n.prevented &&\n    p.paused === n.paused &&\n    p.ended === n.ended &&\n    p.seeking === n.seeking &&\n    p.waiting === n.waiting &&\n    p.duration === n.duration &&\n    p.currentTime === n.currentTime &&\n    p.kernelMsg === n.kernelMsg &&\n    p.onPlayClick === n.onPlayClick,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nimport styles from './index.module.less';\n\nconst TopState = ({ src, loading, duration, currentTime, kernelMsg }) => {\n  if (!src) {\n    return null;\n  }\n\n  if (kernelMsg) {\n    return (\n      <div className={styles.kernelMsg}>\n        {kernelMsg.type}: {kernelMsg.detail}\n      </div>\n    );\n  }\n  if (loading || (0 === duration && 0 === currentTime)) {\n    return (\n      <div className={styles.loading}>\n        <LoadingOutlined />\n      </div>\n    );\n  }\n  return null;\n};\n\nTopState.propTypes = {\n  src: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  duration: PropTypes.number.isRequired,\n  currentTime: PropTypes.number.isRequired,\n  kernelMsg: PropTypes.object.isRequired,\n};\n\nexport default React.memo(\n  TopState,\n  (p, n) =>\n    p.src === n.src &&\n    p.loading === n.loading &&\n    p.duration === n.duration &&\n    p.currentTime === n.currentTime &&\n    p.kernelMsg === n.kernelMsg,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import numeral from 'numeral';\n// import { Slider, Dropdown, Menu } from 'antd';\n// import Icon, {\n//   LoadingOutlined,\n//   PlayCircleOutlined,\n//   CaretRightOutlined,\n//   PauseOutlined,\n//   FullscreenExitOutlined,\n//   FullscreenOutlined,\n// } from '@ant-design/icons';\n\nimport TimeSlider from '../TimeSlider';\nimport PlayButton from './PlayButton';\nimport Volume from './Volume';\nimport Time from './Time';\nimport FullscreenButton from './FullscreenButton';\nimport PlayRate from './PlayRate';\nimport PlayState from './PlayState';\nimport TopState from './TopState';\n\nimport useAutoHide from './useAutoHide';\nimport 'antd/lib/tooltip/style/index.css';\nimport 'antd/lib/slider/style/index.css';\nimport 'antd/lib/dropdown/style/index.css';\nimport styles from './index.module.less';\n\n// import bgImg from './bg.png';\n\nconst ReactPlayerSkin = ({\n  live,\n  src,\n  prevented,\n  loading,\n  paused,\n  ended,\n  seeking,\n  waiting,\n  onPlayClick,\n  onPauseClick,\n  duration,\n  buffered,\n  currentTime,\n  changeCurrentTime,\n  muted,\n  volume,\n  changeVolume,\n  onMutedClick,\n  playbackRate,\n  changePlaybackRate,\n  pictureInPictureEnabled,\n  pip,\n  requestPictureInPicture,\n  exitPictureInPicture,\n  fullscreen,\n  requestFullscreen,\n  exitFullscreen,\n  kernelMsg,\n}) => {\n  const [sliding, setSliding] = React.useState(false);\n  const [visible, setVisible] = React.useState(false);\n\n  const { onMouseEnter, onMouseLeave, show, hiding } = useAutoHide({\n    src,\n    loading,\n    prevented,\n    paused,\n    ended,\n    waiting,\n    seeking,\n    sliding,\n    visible,\n    kernelMsg,\n  });\n\n  return (\n    <div className={styles.reactPlayerSkin}>\n      {src && prevented && <div className={styles.preventedTip}>视频播放被阻止</div>}\n      <button\n        type=\"button\"\n        className={src ? styles.hiddenVideoMask : styles.videoMask}\n        onMouseMove={show}\n        onClick={show}\n      />\n      <PlayState\n        src={src}\n        loading={loading}\n        prevented={prevented}\n        paused={paused}\n        ended={ended}\n        waiting={waiting}\n        seeking={seeking}\n        currentTime={currentTime}\n        duration={duration}\n        kernelMsg={kernelMsg}\n        onPlayClick={onPlayClick}\n      />\n      <div\n        className={styles.controls}\n        style={hiding ? { transform: `translate(0, 48px)` } : {}}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        {false === live && (\n          <TimeSlider\n            duration={duration}\n            currentTime={currentTime}\n            buffered={buffered}\n            sliding={sliding}\n            setSliding={setSliding}\n            onChange={changeCurrentTime}\n          />\n        )}\n        <div className={styles.bar}>\n          <div className={styles.flexItem}>\n            <PlayButton\n              prevented={prevented}\n              paused={paused}\n              ended={ended}\n              onPauseClick={onPauseClick}\n              onPlayClick={onPlayClick}\n            />\n            <Volume muted={muted} volume={volume} onMutedClick={onMutedClick} changeVolume={changeVolume} />\n            <Time live={live} currentTime={currentTime} duration={duration} />\n          </div>\n          {pictureInPictureEnabled && (\n            <button\n              type=\"button\"\n              className={styles.textBtn}\n              onClick={pip ? exitPictureInPicture : requestPictureInPicture}\n            >\n              画中画\n            </button>\n          )}\n          {false === live && (\n            <PlayRate\n              playbackRate={playbackRate}\n              changePlaybackRate={changePlaybackRate}\n              visible={visible}\n              setVisible={setVisible}\n            />\n          )}\n          <FullscreenButton\n            fullscreen={fullscreen}\n            requestFullscreen={requestFullscreen}\n            exitFullscreen={exitFullscreen}\n          />\n        </div>\n      </div>\n      <TopState src={src} loading={loading} currentTime={currentTime} duration={duration} kernelMsg={kernelMsg} />\n    </div>\n  );\n};\n\nReactPlayerSkin.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string,\n  // controls: PropTypes.bool.isRequired,\n  // state\n  loading: PropTypes.bool.isRequired,\n  prevented: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  seeking: PropTypes.bool.isRequired,\n  waiting: PropTypes.bool.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n  // time\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  currentTime: PropTypes.number.isRequired,\n  changeCurrentTime: PropTypes.func.isRequired,\n  // volume\n  muted: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  changeVolume: PropTypes.func.isRequired,\n  onMutedClick: PropTypes.func.isRequired,\n  // playbackRate\n  playbackRate: PropTypes.number.isRequired,\n  changePlaybackRate: PropTypes.func.isRequired,\n  // pip\n  pictureInPictureEnabled: PropTypes.bool.isRequired,\n  pip: PropTypes.bool.isRequired,\n  requestPictureInPicture: PropTypes.func.isRequired,\n  exitPictureInPicture: PropTypes.func.isRequired,\n  // fullscreen\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  exitFullscreen: PropTypes.func.isRequired,\n  // kernel\n  kernelMsg: PropTypes.object,\n};\n\nReactPlayerSkin.defaultProps = {\n  live: false,\n  src: '',\n  buffered: null,\n  kernelMsg: null,\n};\n\nexport default React.memo(\n  ReactPlayerSkin,\n  (p, n) =>\n    p.live === n.live &&\n    p.src === n.src &&\n    // p.controls === n.controls &&\n    p.loading === n.loading &&\n    p.prevented === n.prevented &&\n    p.paused === n.paused &&\n    p.seeking === n.seeking &&\n    p.waiting === n.waiting &&\n    p.duration === n.duration &&\n    p.currentTime === n.currentTime &&\n    p.buffered === n.buffered &&\n    p.muted === n.muted &&\n    p.volume === n.volume &&\n    p.playbackRate === n.playbackRate &&\n    p.pictureInPictureEnabled === n.pictureInPictureEnabled &&\n    p.pip === n.pip &&\n    p.fullscreen === n.fullscreen &&\n    p.kernelMsg === n.kernelMsg &&\n    p.getVideoElement === n.getVideoElement &&\n    p.onPauseClick === n.onPauseClick &&\n    p.onPlayClick === n.onPlayClick &&\n    p.changeCurrentTime === n.changeCurrentTime &&\n    p.onMutedClick === n.onMutedClick &&\n    p.changeVolume === n.changeVolume &&\n    p.changePlaybackRate === n.changePlaybackRate &&\n    p.requestPictureInPicture === n.requestPictureInPicture &&\n    p.exitPictureInPicture === n.exitPictureInPicture &&\n    p.requestFullscreen === n.requestFullscreen &&\n    p.exitFullscreen === n.exitFullscreen,\n);\n","import React from 'react';\n\nexport default ({ src, loading, prevented, paused, ended, waiting, seeking, sliding, visible, kernelMsg }) => {\n  const [hovering, setHovering] = React.useState(false);\n  const [hiding, setHiding] = React.useState(false);\n  const ref = React.useRef({});\n\n  const onMouseEnter = React.useCallback(() => {\n    if (global.matchMedia) {\n      const matched = global.matchMedia('(hover: none), (pointer: coarse)');\n      if (matched && matched.matches) {\n        return;\n      }\n    }\n    setHovering(true);\n  }, []);\n\n  const onMouseLeave = React.useCallback(() => {\n    setHovering(false);\n  }, []);\n\n  const animationFrameCallback = React.useCallback((timestamp) => {\n    if (!ref.current.requestID || true === ref.current.hiding) {\n      return;\n    }\n    if (!ref.current.timestamp) {\n      ref.current.timestamp = timestamp;\n    }\n    if (3 * 1000 > timestamp - ref.current.timestamp) {\n      ref.current.requestID = global.requestAnimationFrame(animationFrameCallback);\n      return;\n    }\n    setHiding(true);\n    ref.current.hiding = true;\n    delete ref.current.requestID;\n    delete ref.current.timestamp;\n  }, []);\n\n  const startAutoHide = React.useCallback(() => {\n    if (false !== ref.current.hiding) {\n      setHiding(false);\n      ref.current.hiding = false;\n    }\n    delete ref.current.timestamp;\n    if (ref.current.requestID) {\n      return;\n    }\n    ref.current.requestID = global.requestAnimationFrame(animationFrameCallback);\n  }, [animationFrameCallback]);\n\n  const stopAutoHide = React.useCallback(() => {\n    if (true !== ref.current.hiding) {\n      setHiding(false);\n      ref.current.hiding = false;\n    }\n    if (ref.current.requestID) {\n      global.cancelAnimationFrame(ref.current.requestID);\n    }\n    delete ref.current.requestID;\n    delete ref.current.timestamp;\n  }, []);\n\n  React.useEffect(() => {\n    if (\n      !src ||\n      loading ||\n      prevented ||\n      paused ||\n      ended ||\n      waiting ||\n      seeking ||\n      sliding ||\n      visible ||\n      hovering ||\n      kernelMsg\n    ) {\n      stopAutoHide();\n    } else {\n      startAutoHide();\n    }\n  }, [\n    src,\n    loading,\n    prevented,\n    paused,\n    ended,\n    waiting,\n    seeking,\n    sliding,\n    visible,\n    hovering,\n    kernelMsg,\n    startAutoHide,\n    stopAutoHide,\n  ]);\n\n  return { onMouseEnter, onMouseLeave, show: startAutoHide, hiding };\n};\n","import React from 'react';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport ReactPlayerSkin from '../ReactPlayerSkin';\n\nconst ReactPlayerSkinWapper = () => {\n  const props = React.useContext(ReactPlayerContext);\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <ReactPlayerSkin {...props} />;\n};\n\nexport default ReactPlayerSkinWapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useReactPlayer from './useReactPlayer';\n\nimport Flvjs from '../Flvjs';\nimport Hlsjs from '../Hlsjs';\nimport Native from '../Native';\nimport ReactPlayerSkinWapper from '../ReactPlayerSkinWapper';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport styles from './index.module.less';\n\nconst ReactjsPlayer = ({\n  kernel,\n  live,\n  config,\n  onKernelError,\n  src,\n  type,\n  controls,\n  className,\n  videoProps,\n  playerProps,\n  children,\n}) => {\n  const {\n    videoRef,\n    playerRef,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    getVideoElement,\n    onPauseClick,\n    onPlayClick,\n    changeCurrentTime,\n    onMutedClick,\n    changeVolume,\n    changePlaybackRate,\n    requestPictureInPicture,\n    exitPictureInPicture,\n    requestFullscreen,\n    exitFullscreen,\n    onMsgChange,\n  } = useReactPlayer({ src, live, onKernelError });\n\n  const kernelProps = { getVideoElement, src, config, onMsgChange };\n\n  return (\n    <div className={`${styles.reactPlayer} ${className}`} ref={playerRef} {...playerProps}>\n      {'flvjs' === kernel && <Flvjs {...kernelProps} />}\n      {'hlsjs' === kernel && <Hlsjs {...kernelProps} />}\n      {'native' === kernel && <Native {...kernelProps} />}\n      {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\n      <video className={styles.video} ref={videoRef} controls={'controls' === controls} type={type} {...videoProps} />\n      <ReactPlayerContext.Provider\n        value={{\n          live,\n          src,\n          // controls,\n          loading,\n          prevented,\n          paused,\n          ended,\n          seeking,\n          waiting,\n          duration,\n          currentTime,\n          buffered,\n          muted,\n          volume,\n          playbackRate,\n          pictureInPictureEnabled,\n          pip,\n          fullscreen,\n          kernelMsg,\n          getVideoElement,\n          onPauseClick,\n          onPlayClick,\n          changeCurrentTime,\n          onMutedClick,\n          changeVolume,\n          changePlaybackRate,\n          requestPictureInPicture,\n          exitPictureInPicture,\n          requestFullscreen,\n          exitFullscreen,\n        }}\n      >\n        {true === controls && <ReactPlayerSkinWapper />}\n        {children}\n      </ReactPlayerContext.Provider>\n    </div>\n  );\n};\n\nReactjsPlayer.propTypes = {\n  kernel: PropTypes.oneOf(['hlsjs', 'flvjs', 'native']).isRequired,\n  live: PropTypes.bool.isRequired,\n  config: PropTypes.object,\n  onKernelError: PropTypes.func,\n\n  src: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  controls: PropTypes.oneOf([false, true, 'controls']),\n\n  className: PropTypes.string,\n  videoProps: PropTypes.object,\n  playerProps: PropTypes.object,\n\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n\nReactjsPlayer.defaultProps = {\n  config: null,\n  onKernelError: null,\n\n  src: '',\n  controls: true,\n\n  className: '',\n  videoProps: null,\n  playerProps: null,\n\n  children: null,\n};\n\nexport default React.memo(\n  ReactjsPlayer,\n  (p, n) =>\n    p.kernel === n.kernel &&\n    p.live === n.live &&\n    p.config === n.config &&\n    p.onKernelError === n.onKernelError &&\n    p.src === n.src &&\n    p.type === n.type &&\n    p.controls === n.controls &&\n    p.className === n.className &&\n    p.videoProps === n.videoProps &&\n    p.playerProps === n.playerProps &&\n    p.children === n.children,\n);\n","import { EventEmitter } from 'fbemitter';\n\nlet emitter = null;\nlet index = 0;\n\nclass GrindPlayer {\n  /**\n   * 创建 GrindPlayer 实例\n   */\n  constructor(id) {\n    this.id = id;\n    this.el = null;\n    this.emitter = new EventEmitter();\n    this.tokenList = [];\n    this.eventMap = [];\n\n    this.addListener();\n  }\n\n  addListener() {\n    if (!emitter) {\n      emitter = new EventEmitter();\n    }\n\n    this.tokenList = [\n      emitter.addListener(`${this.id}.onJavaScriptBridgeCreated`, () => {\n        this.el = document.getElementById(this.id);\n        // this.el.addEventListener('mediaError', () => );\n      }),\n      emitter.addListener(`${this.id}.mediaSize`, (data) => {\n        if (0 === data.videoHeight && 0 === data.videoWidth) {\n          this.emitter.emit('canplay');\n        } else {\n          this.emitter.emit('canplaythrough');\n        }\n      }),\n      emitter.addListener(`${this.id}.paused`, () => this.emitter.emit('pause')),\n      emitter.addListener(`${this.id}.playing`, () => this.emitter.emit('playing')),\n      emitter.addListener(`${this.id}.seeking`, () => this.emitter.emit('seeking')),\n      emitter.addListener(`${this.id}.seeked`, () => this.emitter.emit('seeked')),\n      emitter.addListener(`${this.id}.complete`, () => this.emitter.emit('ended')),\n      emitter.addListener(`${this.id}.buffering`, () => this.emitter.emit('waiting')),\n\n      emitter.addListener(`${this.id}.durationChange`, (e) => this.emitter.emit('durationchange', e)),\n      emitter.addListener(`${this.id}.timeChange`, (e) => this.emitter.emit('timeupdate', e)),\n      emitter.addListener(`${this.id}.progress`, (e) => this.emitter.emit('progress', e)),\n\n      emitter.addListener(`${this.id}.volumeChange`, (e) => this.emitter.emit('volumechange', e)),\n    ];\n  }\n\n  invoker(methodName, ...args) {\n    if (!this.el) {\n      return;\n    }\n    this.el[methodName](...args);\n  }\n\n  addEventListener(event, fn) {\n    if (!this.eventMap) {\n      return;\n    }\n    const token = this.emitter.addListener(event, fn);\n    this.eventMap.push({ token, event, fn });\n  }\n\n  removeEventListener(event, fn) {\n    if (!this.eventMap) {\n      return;\n    }\n    this.eventMap = this.eventMap.filter((it) => {\n      if (it.event !== event) {\n        return true;\n      }\n      if (!fn && it.fn !== fn) {\n        return true;\n      }\n      it.token.remove();\n      return false;\n    });\n  }\n\n  destroy() {\n    if (this.eventMap) {\n      this.eventMap.map((it) => it.token.remove());\n      delete this.eventMap;\n    }\n\n    if (this.tokenList) {\n      this.tokenList.map((it) => it.remove());\n      delete this.tokenList;\n    }\n\n    if (this.emitter) {\n      this.emitter.removeAllListeners();\n    }\n    delete this.emitter;\n\n    delete this.id;\n    delete this.el;\n  }\n}\n\nconst onJSBridge = (playerId, event, data) => {\n  if (!emitter) {\n    emitter = new EventEmitter();\n  }\n  console.log(`${event}: ${JSON.stringify(data)}`);\n  emitter.emit(`${playerId}.${event}`, data);\n};\n\nexport default {\n  getPlayerId: () => `grindPlayer${index++}`,\n\n  getGrindPlayer: (id, javascriptCallbackFunction) => {\n    if (!global[javascriptCallbackFunction]) {\n      global[javascriptCallbackFunction] = onJSBridge;\n    }\n    return new GrindPlayer(id);\n  },\n};\n","import React from 'react';\nimport GrindPlayer from './GrindPlayer';\n\nconst initialState = {\n  loading: false,\n  prevented: false,\n  paused: false,\n  ended: false,\n  seeking: false,\n  waiting: false,\n  duration: 0,\n  currentTime: 0,\n  buffered: null,\n  muted: false,\n  volume: 1,\n  pictureInPictureEnabled: false,\n  pip: false,\n  fullscreen: false,\n  playbackRate: 1,\n  javascriptCallbackFunction: 'onJSBridge',\n  kernelMsg: null,\n};\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { ...initialState, ...action.payload };\n  }\n  return { ...state, ...action.payload };\n};\n\nexport default ({ src }) => {\n  const [\n    {\n      loading,\n      prevented,\n      paused,\n      ended,\n      seeking,\n      waiting,\n      duration,\n      currentTime,\n      buffered,\n      muted,\n      volume,\n      pictureInPictureEnabled,\n      pip,\n      fullscreen,\n      playbackRate,\n      javascriptCallbackFunction,\n      kernelMsg,\n    },\n    dispatch,\n  ] = React.useReducer(reducer, initialState);\n\n  const id = React.useMemo(() => GrindPlayer.getPlayerId(), []);\n  const ref = React.useRef({});\n\n  React.useEffect(() => {\n    const player = GrindPlayer.getGrindPlayer(id, javascriptCallbackFunction);\n    ref.current.player = player;\n    return () => {\n      player.destroy();\n      ref.current = null;\n    };\n  }, [id, javascriptCallbackFunction]);\n\n  React.useEffect(() => {\n    ref.current.loading = loading;\n    ref.current.ended = ended;\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [loading, ended, muted, volume]);\n\n  React.useEffect(() => {\n    dispatch({ type: 'reset', payload: { loading: !!src } });\n  }, [src]);\n\n  return {\n    ref,\n    dispatch,\n    id,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    playbackRate,\n    javascriptCallbackFunction,\n    kernelMsg,\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSWF from 'react-swf';\nimport './GrindPlayer.swf';\nimport './flashlsOSMF.swf';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport useGrindPlayer from './useGrindPlayer';\nimport useState from './useState';\nimport useTime from './useTime';\nimport useVolume from './useVolume';\nimport styles from './index.module.less';\n\nconst GrindPlayer = ({ live, src, type, grindPlayerSwf, flashlsOSMFSwf }) => {\n  const { ref, dispatch, id, javascriptCallbackFunction, ...state } = useGrindPlayer({ src });\n\n  const stateProps = useState({ ref, dispatch });\n  const timeProps = useTime({ ref, dispatch });\n  const volumeProps = useVolume({ ref, dispatch });\n\n  return (\n    <div className={styles.grindPlayer}>\n      {src && (\n        <ReactSWF\n          id={id}\n          src={grindPlayerSwf}\n          width=\"100%\"\n          height=\"100%\"\n          wmode=\"opaque\"\n          allowFullScreen\n          allowScriptAccess=\"always\"\n          bgcolor=\"#000000\"\n          flashVars={{\n            src,\n            autoPlay: true,\n            bufferTime: 0.5,\n            streamType: live ? 'live' : 'recorded',\n            plugin_hls: 'application/x-mpegURL' === type ? flashlsOSMFSwf : undefined,\n            javascriptCallbackFunction,\n          }}\n        />\n      )}\n      <ReactPlayerContext.Provider\n        value={{\n          live,\n          src,\n          ...state,\n          ...stateProps,\n          ...timeProps,\n          ...volumeProps,\n        }}\n      />\n    </div>\n  );\n};\n\nGrindPlayer.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  grindPlayerSwf: PropTypes.string,\n  flashlsOSMFSwf: PropTypes.string,\n};\n\nGrindPlayer.defaultProps = {\n  live: true,\n  grindPlayerSwf: 'http://unpkg.com/reactjs-player/dist/GrindPlayer.swf',\n  flashlsOSMFSwf: 'http://unpkg.com/reactjs-player/dist/flashlsOSMF.swf',\n};\n\nexport default React.memo(GrindPlayer);\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onPlayClick = React.useCallback(() => {\n    if (ref.current.player) {\n      if (ref.current.ended) {\n        ref.current.player.invoker('seek', 0);\n      }\n      ref.current.player.invoker('play2');\n    }\n    dispatch({ type: 'update', payload: { paused: false } });\n  }, [ref, dispatch]);\n\n  const onPauseClick = React.useCallback(() => {\n    if (ref.current.player) {\n      ref.current.player.invoker('pause');\n    }\n    dispatch({ type: 'update', payload: { paused: true } });\n  }, [ref, dispatch]);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    if (ref.current.loading) {\n      dispatch({ type: 'update', payload: { loading: false } });\n    }\n    dispatch({ type: 'update', payload: { waiting: false } });\n  }, [ref, dispatch]);\n\n  const onPause = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { paused: true } });\n  }, [dispatch]);\n\n  const onPlaying = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { paused: false, ended: false } });\n  }, [dispatch]);\n\n  const onEnded = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { ended: true } });\n  }, [dispatch]);\n\n  const onSeeked = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { seeking: false } });\n  }, [dispatch]);\n\n  const onSeeking = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { seeking: true } });\n  }, [dispatch]);\n\n  const onWaiting = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { waiting: true } });\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    const { player } = ref.current;\n    if (!player) {\n      return () => {};\n    }\n    player.addEventListener('canplaythrough', onCanPlayThrough);\n    player.addEventListener('pause', onPause);\n    player.addEventListener('playing', onPlaying);\n    player.addEventListener('ended', onEnded);\n    player.addEventListener('seeked', onSeeked);\n    player.addEventListener('seeking', onSeeking);\n    player.addEventListener('waiting', onWaiting);\n    return () => {\n      player.removeEventListener('canplaythrough', onCanPlayThrough);\n      player.removeEventListener('pause', onPause);\n      player.removeEventListener('playing', onPlaying);\n      player.removeEventListener('ended', onEnded);\n      player.removeEventListener('seeked', onSeeked);\n      player.removeEventListener('seeking', onSeeking);\n      player.removeEventListener('waiting', onWaiting);\n    };\n  }, [ref, onCanPlayThrough, onPause, onPlaying, onEnded, onSeeked, onSeeking, onWaiting]);\n\n  return { onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onDurationChange = React.useCallback(\n    (e) => {\n      const v = e.duration;\n      dispatch({ type: 'update', payload: { duration: Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0 } });\n    },\n    [dispatch],\n  );\n\n  const onTimeUpdate = React.useCallback(\n    (e) => {\n      if (Number.isNaN(e.currentTime)) {\n        return;\n      }\n      dispatch({ type: 'update', payload: { currentTime: e.currentTime } });\n    },\n    [dispatch],\n  );\n\n  const onProgress = React.useCallback(\n    (e) => dispatch({ type: 'update', payload: { buffered: e.buffered } }),\n    [dispatch],\n  );\n\n  const changeCurrentTime = React.useCallback(\n    (t) => {\n      const v = parseFloat(t);\n      if (Number.isNaN(v) || !ref.current || !ref.current.player) {\n        return;\n      }\n      ref.current.player.invoker('seek', v);\n      dispatch({ type: 'update', payload: { currentTime: v } });\n    },\n    [ref, dispatch],\n  );\n\n  React.useEffect(() => {\n    const { player } = ref.current;\n    if (!player) {\n      return () => {};\n    }\n    player.addEventListener('durationchange', onDurationChange);\n    player.addEventListener('timeupdate', onTimeUpdate);\n    player.addEventListener('progress', onProgress);\n    return () => {\n      player.removeEventListener('durationchange', onDurationChange);\n      player.removeEventListener('timeupdate', onTimeUpdate);\n      player.removeEventListener('progress', onProgress);\n    };\n  }, [ref, onDurationChange, onTimeUpdate, onProgress]);\n\n  return { changeCurrentTime };\n};\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onVolumeChange = React.useCallback((e) => dispatch({ type: 'update', payload: e }), [dispatch]);\n\n  const onMutedClick = React.useCallback(() => {\n    if (!ref.current || !ref.current.player) {\n      return;\n    }\n    const { muted } = ref.current;\n    ref.current.player.invoker('setMuted', !muted);\n    if (0 === ref.current.volume && muted) {\n      ref.current.player.invoker('setVolume', 1.0);\n    }\n  }, [ref]);\n\n  const changeVolume = React.useCallback(\n    (v) => {\n      if (ref.current && ref.current.player) {\n        ref.current.player.invoker('setVolume', v);\n      }\n    },\n    [ref],\n  );\n\n  React.useEffect(() => {\n    if (!ref.current || !ref.current.player) {\n      return () => {};\n    }\n    const { player } = ref.current;\n    player.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      player.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [ref, onVolumeChange]);\n\n  return { onMutedClick, changeVolume };\n};\n","import ReactPlayer from './ReactPlayer';\nimport GrindPlayer from './GrindPlayer';\nimport ReactPlayerContext from './ReactPlayerContext';\nimport ReactPlayerSkin from './ReactPlayerSkin';\n\nReactPlayer.GrindPlayer = GrindPlayer;\nReactPlayer.ReactPlayerContext = ReactPlayerContext;\nReactPlayer.ReactPlayerSkin = ReactPlayerSkin;\n\nexport default ReactPlayer;\n","import React from 'react';\nimport UAParser from 'ua-parser-js';\nimport Hls from 'hls.js';\nimport flvjs from 'flv.js';\nimport { Form, Select, Input, Button, Tabs, Descriptions } from 'antd';\nimport { GithubOutlined } from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport ReactjsPlayer from 'reactjs-player';\nimport grindPlayerSwf from 'reactjs-player/dist/GrindPlayer.swf';\nimport flashlsOSMFSwf from 'reactjs-player/dist/flashlsOSMF.swf';\nimport blank16x9 from './blank16x9.png';\nimport './App.css';\n\nconst GrindPlayer = ReactjsPlayer.GrindPlayer;\n// const ReactPlayerContext = ReactjsPlayer.ReactPlayerContext;\n\nconst delay = timeout =>\n  new Promise(resolve => {\n    global.setTimeout(resolve, timeout);\n  });\n\nconst getSupportedList = ua => {\n  if (ua.device.type) {\n    // 非 PC 浏览器\n    return [\n      {\n        key: 'native',\n        kernel: 'native',\n        src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n        type: 'application/x-mpegURL',\n      },\n      { key: 'nativelive', kernel: 'native', live: true, src: '', type: 'application/x-mpegURL' },\n    ];\n  }\n\n  global.Hls = Hls;\n  global.flvjs = flvjs;\n\n  const list = [];\n  if (flvjs.isSupported()) {\n    const featureList = flvjs.getFeatureList();\n    if (featureList.networkStreamIO) {\n      list.push({\n        key: 'flvjs',\n        kernel: 'flvjs',\n        live: true,\n        src: 'http://192.168.0.221/flv_srs/quick/A6sq0Q9DR320aHkEAoiygQ.flv',\n        type: 'video/x-flv',\n        config: {\n          isLive: true,\n          enableStashBuffer: false,\n          autoCleanupSourceBuffer: true,\n          stashInitialSize: 16 * 1024,\n          fixAudioTimestampGap: false,\n        },\n      });\n    }\n  }\n  if (Hls.isSupported()) {\n    list.push({\n      key: 'hlsjs',\n      kernel: 'hlsjs',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    });\n  }\n\n  // mac OS 没有测试环境，暂且认为没有问题\n  if ('Mac OS' === ua.os.name) {\n    list.push(\n      {\n        key: 'native',\n        kernel: 'native',\n        live: false,\n        src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n        type: 'application/x-mpegURL',\n      },\n      { key: 'nativelive', kernel: 'native', live: true, src: '', type: 'application/x-mpegURL' },\n    );\n  }\n  list.push(\n    { key: 'rtmp', kernel: 'flash', live: true, src: 'rtmp://livetv.dhtv.cn:1935/live/news', type: 'video/rtmp' },\n    {\n      key: 'flashls',\n      kernel: 'flash',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    },\n    {\n      key: 'native',\n      kernel: 'native',\n      live: false,\n      src: 'https://www.w3schools.com/html/mov_bbb.mp4',\n      type: 'video/mp4',\n    },\n  );\n  return list;\n};\n\nconst App = React.memo(() => {\n  const [list, setList] = React.useState(null);\n  const [info, setInfo] = React.useState(null);\n  const [src, setSrc] = React.useState('');\n  const [videoProps, setVideoProps] = React.useState(null);\n  const ref = React.useRef(list);\n\n  const [form] = Form.useForm();\n\n  const onChange = React.useCallback(\n    v => {\n      const item = list.find(it => it.key === v);\n      form.setFieldsValue({ src: item.src });\n    },\n    [form, list],\n  );\n\n  const onSubmit = React.useCallback(async values => {\n    setSrc('');\n    await delay(50);\n    const item = ref.current.find(it => it.key === values.type);\n    setInfo(item);\n    setSrc(values.src);\n  }, []);\n\n  React.useEffect(() => {\n    ref.current = list;\n  }, [list]);\n\n  React.useEffect(() => {\n    const ua = UAParser(global.navigator.userAgent);\n    if (ua.device.type) {\n      setVideoProps({\n        playsInline: true,\n        'webkit-playsinline': 'true',\n        'x5-video-player-type': 'h5-page',\n        'x5-video-orientation': 'landscape|portrait',\n      });\n    }\n    const supportedList = getSupportedList(ua);\n    setList(supportedList);\n    ref.current = supportedList;\n    setInfo(supportedList[0]);\n    // debugger;\n    onSubmit({ type: supportedList[0].key, src: supportedList[0].src });\n  }, [onSubmit]);\n\n  const onVideoEvent = React.useCallback(e => {\n    const log = console.log;\n    log(`e.type: ${e.type}`);\n    // if ('durationchange' === e.type) {\n    //   log(`durationchange: ${e.target.duration}`);\n    // }\n  }, []);\n\n  if (!list || 0 === list.length) {\n    return null;\n  }\n\n  return (\n    <div className=\"container\">\n      <header className=\"header\">\n        <Form\n          className=\"form\"\n          layout=\"inline\"\n          form={form}\n          onFinish={onSubmit}\n          initialValues={{\n            type: list[0].key,\n            src: list[0].src,\n          }}\n        >\n          <Form.Item className=\"type\" name=\"type\">\n            <Select onChange={onChange}>\n              {list.map(it => (\n                <Select.Option key={it.key} value={it.key}>\n                  {it.key}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item className=\"src\" name=\"src\">\n            <Input />\n          </Form.Item>\n          <Form.Item className=\"submit\">\n            <Button type=\"primary\" htmlType=\"submit\">\n              播放\n            </Button>\n          </Form.Item>\n        </Form>\n      </header>\n      <main className=\"main\">\n        <img className=\"blankImg\" src={blank16x9} alt=\"\" />\n        {'flash' !== info.kernel && (\n          <ReactjsPlayer\n            live={info.live}\n            kernel={info.kernel}\n            type={info.type}\n            config={info.config || {}}\n            src={src}\n            videoProps={{\n              ...videoProps,\n              onCanPlay: onVideoEvent,\n              onDurationChange: onVideoEvent,\n              onPause: onVideoEvent,\n              onPlay: onVideoEvent,\n              onPlaying: onVideoEvent,\n              onEnded: onVideoEvent,\n              onSeeked: onVideoEvent,\n              onSeeking: onVideoEvent,\n              onCanPlayThrough: onVideoEvent,\n              onEmptied: onVideoEvent,\n              onEncrypted: onVideoEvent,\n              onError: onVideoEvent,\n              onLoadedData: onVideoEvent,\n              onLoadedMetadata: onVideoEvent,\n              onLoadStart: onVideoEvent,\n              onRateChange: onVideoEvent,\n              onStalled: onVideoEvent,\n              onSuspend: onVideoEvent,\n              onVolumeChange: onVideoEvent,\n              onWaiting: onVideoEvent,\n              onAbort: onVideoEvent,\n            }}\n          />\n        )}\n        {'flash' === info.kernel && (\n          <GrindPlayer {...info} src={src} grindPlayerSwf={grindPlayerSwf} flashlsOSMFSwf={flashlsOSMFSwf} />\n        )}\n      </main>\n      <aside className=\"aside\">\n        <div className=\"asideContainer\">\n          <Tabs className=\"asideTabs\" defaultActiveKey=\"info\">\n            <Tabs.TabPane tab=\"信息\" key=\"info\">\n              <Scrollbars>\n                <div className=\"infoTabPane\">\n                  <Descriptions title=\"参数\" column={1} size=\"small\">\n                    <Descriptions.Item label=\"kernel\">{info.kernel}</Descriptions.Item>\n                    <Descriptions.Item label=\"live\">{info.live ? '是' : '否'}</Descriptions.Item>\n                    <Descriptions.Item label=\"src\">\n                      <span className=\"srcValue\">{src}</span>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"type\">{info.type}</Descriptions.Item>\n                  </Descriptions>\n                </div>\n              </Scrollbars>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"接口测试\" key=\"interface\">\n              <Scrollbars>\n                <div className=\"infoTabPane\">暂时删除接口测试功能</div>\n              </Scrollbars>\n            </Tabs.TabPane>\n          </Tabs>\n          <div className=\"asideFooter\">\n            <a href=\"https://github.com/goblin-laboratory/reactjs-player\">\n              <GithubOutlined />\n              &nbsp; Github\n            </a>\n          </div>\n        </div>\n      </aside>\n      <footer className=\"footer\">手机观看</footer>\n    </div>\n  );\n});\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/GrindPlayer.2a08c30c.swf\";","export default __webpack_public_path__ + \"static/media/flashlsOSMF.54c6b059.swf\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wMi0yOFQxODoyNDozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDljYTEwNTMtNTU4Ny1lYjQ4LWEyMzEtZWY0MTUzNjRjYmY2IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2QyYjVhMTMtN2E2NC1lZDQ3LWE2NDctZWQwNDExMDgxMTFmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6M2NkZWQyZmItOWFmMi1lODQ2LWE5MGYtNTdhOGUyYzk3OGY2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozY2RlZDJmYi05YWYyLWU4NDYtYTkwZi01N2E4ZTJjOTc4ZjYiIHN0RXZ0OndoZW49IjIwMTgtMDItMjhUMTg6MjQ6MzQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5Y2ExMDUzLTU1ODctZWI0OC1hMjMxLWVmNDE1MzY0Y2JmNiIgc3RFdnQ6d2hlbj0iMjAxOC0wOC0yMFQxNDozODozOSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7p7qgTAAAAFklEQVQokWP4//8/AyWYIs2jBgwbAwCgra5gnLDJrQAAAABJRU5ErkJggg==\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}